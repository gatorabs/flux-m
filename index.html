<html lang="en">
 
<head>
  <meta charset="utf-8">
 
  <title>Flux-m</title>
 
  <link href="https://fonts.googleapis.com/css?family=Inria+Sans&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
 
  <style>
    body {
      background: #E5E5E5;
    }
  </style>
 
</head>
 
<body>
    <div class=e1>
      <div class=e2>
      
  
        <div class="black-retangule"></div>
      
        <div class="truck-icon"></div>
        <div class="line"></div>
        <div class="temperature"><div class="temperature-data"></div>
          <div class="temperature-retangule"></div>
          <div class="temperature-icon"></div>
        </div>
  
        <div class=humidity><div class="humidity-data"></div>
          <div class="humidity-retangule"></div>
          <div class="humidity-icon"></div>
        </div>
  
        <div class=metan_gas><div class="metan_gas-data"></div>
          <div class="metan_gas-retangule"></div>
          <div class="metan_gas-icon"></div>
        </div>
        <div class=fire>
          <div class="fire-retangule"></div>
          <div class="fire-icon"></div><div class="fire-data"></div>
        </div>
      </div>
      <div class="scania-logo"></div>
      
    
  
  

  
</body>
 

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4"></script>
<script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-database.js"></script>



<script type="module">
 
  //import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
  //import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-analytics.js";
  //import { } from 'https://www.gstatic.com/firebasejs/10.11.1/firebase-database.js';
  //import { getDatabase } from 'https://www.gstatic.com/firebasejs/10.11.1/firebase-database.js';
 
 
 
 
  const firebaseConfig = {
    apiKey: "AIzaSyBbZHqxDbojbNKaDfLs7uR9NR84MzQEMQw",
    authDomain: "flux-m-cca2f.firebaseapp.com",
    databaseURL: "https://flux-m-cca2f-default-rtdb.firebaseio.com",
    projectId: "flux-m-cca2f",
    storageBucket: "flux-m-cca2f.appspot.com",
    messagingSenderId: "43662843090",
    appId: "1:43662843090:web:6032014d4a08165e21610b",
    measurementId: "G-5V6EKLSVCQ"
  };
 
 
 
  firebase.initializeApp(firebaseConfig);
 
  var firebaseRef1 = firebase.database().ref("DHT11/Temperature");
  var firebaseRef2 = firebase.database().ref("DHT11/Humidity");
  var firebaseRef3 = firebase.database().ref("MQ4");
  var firebaseRef4 = firebase.database().ref("FIRE");

  function updateValues(firebaseRef, dataTag) {
  const dataMapping = {
    'humidity-data': (data) => `${data}%`,
    'temperature-data': (data) => `${data} Â°C`,
    'metan_gas-data': (data) => `${data}%`,
    'fire-data': (data) => data === false ? "Ok." : "FIRE!"
  };

  firebaseRef.on('value', function(snapshot) {
    const data = snapshot.val();
    console.log(data);

    const updateFunction = dataMapping[dataTag.className];
    if (updateFunction) {
      dataTag.innerHTML = updateFunction(data);
    }
  });
}


  
  updateValues(firebaseRef1, document.querySelector('.temperature-data'));
  updateValues(firebaseRef2, document.querySelector('.humidity-data'));
  updateValues(firebaseRef3, document.querySelector('.metan_gas-data'));
  updateValues(firebaseRef4, document.querySelector('.fire-data'));

 
 
</script>
</html>